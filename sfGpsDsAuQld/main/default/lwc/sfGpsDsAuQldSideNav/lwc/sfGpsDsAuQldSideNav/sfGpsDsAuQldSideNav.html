<!-- sldsValidatorIgnore -->
<template>
  <div class={computedClassName}>
    <button
      class={computedToggleButtonClassName}
      aria-controls="nav-default"
      aria-expanded={_isOpen}
      aria-selected="false"
      aria-label="Toggle side navigation"
      onclick={handleToggleButtonClick}
    >
      {title}
    </button>

    <nav
      id="side-nav-default"
      class={computedNavClassName}
      aria-labelledby="navigation-title"
    >
      <!-- Navigation title -->
      <h2 lwc:if={title} class="qld__sidenav__title" id="navigation-title">
        <a href={url} class="qld__sidenav__link">{title}</a>
      </h2>

      <!-- Navigation links -->
      <ul lwc:if={_navItems} class="qld__link-list">
        <template for:each={_navItems} for:item="navItem">
          <!-- level 2 -->
          <li
            key={navItem.index}
            class={navItem.className}
            role="menuitem"
            aria-current={navItem.ariaCurrent}
          >
            <span lwc:if={navItem.isActive}> {navItem.text} </span>
            <a
              lwc:else
              href={navItem.url}
              data-ndx={navItem.index}
              class={navItem.anchorClassName}
              onclick={handleClick}
            >
              {navItem.text}
            </a>
            <ul lwc:if={navItem.subNav} class="qld__link-list">
              <template for:each={navItem.subNav} for:item="subNavItem">
                <!-- level 3-->
                <li
                  key={subNavItem.index}
                  class={subNavItem.className}
                  role="menuitem"
                  aria-current={subNavItem.ariaCurrent}
                >
                  <span lwc:if={subNavItem.isActive}> {subNavItem.text} </span>
                  <a
                    lwc:else
                    href={subNavItem.url}
                    data-ndx={subNavItem.index}
                    class={subNavItem.anchorClassName}
                    onclick={handleClick}
                  >
                    {subNavItem.text}
                  </a>
                  <ul lwc:if={subNavItem.subNav} class="qld__link-list">
                    <template
                      for:each={subNavItem.subNav}
                      for:item="subSubNavItem"
                    >
                      <!-- level 4 -->
                      <li
                        key={subSubNavItem.index}
                        class={subSubNavItem.className}
                        role="menuitem"
                        aria-current={subNavNavItem.ariaCurrent}
                      >
                        <span lwc:if={subSubNavItem.isActive}>
                          {subSubNavItem.text}
                        </span>
                        <a
                          lwc:else
                          href={subSubNavItem.url}
                          data-ndx={subSubNavItem.index}
                          class={subSubNavItem.anchorClassName}
                          onclick={handleClick}
                        >
                          {subSubNavItem.text}
                        </a>
                      </li>
                    </template>
                  </ul>
                </li>
              </template>
            </ul>
          </li>
        </template>
      </ul>
    </nav>
  </div>
</template>
