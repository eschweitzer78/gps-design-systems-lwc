<template>
  <div class={computedContainerClassName}>
    <!-- Label -->
    <label lwc:if={label} class={computedLabelClassName}>
      {label}
      <span lwc:if={isRequired} class="ontario-label__flag">(required)</span>
    </label>

    <!-- Help Text -->
    <p lwc:if={helpText} class="ontario-hint" id="site-selector-hint">
      {helpText}
    </p>

    <!-- Selected Address Display -->
    <div
      lwc:if={hasSelectedAddress}
      class="sfgpsdscaon-form-site-selector__selected"
    >
      <div class="sfgpsdscaon-form-site-selector__selected-content">
        <svg
          class="sfgpsdscaon-form-site-selector__selected-icon"
          viewBox="0 0 24 24"
          aria-hidden="true"
        >
          <path
            d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"
            fill="currentColor"
          />
        </svg>
        <span class="sfgpsdscaon-form-site-selector__selected-text">
          {selectedAddressText}
        </span>
      </div>
      <button
        type="button"
        class="sfgpsdscaon-form-site-selector__clear-btn"
        onclick={handleClear}
      >
        Change
      </button>
    </div>

    <!-- Site Selector Tool -->
    <c-sf-gps-ds-ca-on-site-selector-tool
      lwc:if={hasNoSelectedAddress}
      button-label={buttonLabel}
      modal-title={modalTitle}
      vf-page-url={vfPageUrl}
      default-latitude={defaultLatitude}
      default-longitude={defaultLongitude}
      onsave={handleSave}
    ></c-sf-gps-ds-ca-on-site-selector-tool>
  </div>
</template>
