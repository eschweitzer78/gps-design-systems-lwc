<!-- sldsValidatorIgnore -->
<!--
  Ontario Design System - EditBlock Label for OmniStudio
  
  Displays the heading and global actions for an EditBlock.
  
  Compliance:
  - LWR: Compatible (Light DOM pattern)
  - LWS: Compatible (no restricted APIs)
  - Ontario DS: Uses Ontario heading styling
  - WCAG 2.1 AA: Proper heading structure
-->
<template>
  <!-- Heading -->
  <h3
    lwc:if={computedIsH3Heading}
    class="ontario-h4 sfgpsdscaon-edit-block-label__heading"
  >
    {_propSetMap.label}
  </h3>
  <div
    lwc:else
    class="ontario-h4 sfgpsdscaon-edit-block-label__heading"
    role="heading"
    aria-level={_propSetMap.headingLevel}
  >
    {_propSetMap.label}
  </div>

  <!-- Global Actions -->
  <div
    lwc:if={_jsonDef.propSetMap.gActions}
    class="sfgpsdscaon-edit-block-label__actions"
  >
    <template
      for:each={_gActions}
      for:item="gActionItem"
      for:index="gActionIndex"
    >
      <c-sf-gps-ds-osrt-icon
        lwc:if={gActionItem.hasIcon}
        key={gActionItem.lwcId}
        extraclass="sfgpsdscaon-icon"
        icon-name={gActionItem.icon}
        theme="slds"
        alternative-text={gActionItem.label}
        size="small"
        style="cursor: pointer"
        onclick={gActionItem.handleClick}
      >
      </c-sf-gps-ds-osrt-icon>
      <button
        lwc:else
        key={gActionItem.lwcId}
        type="button"
        class="ontario-button ontario-button--secondary"
        onclick={gActionItem.handleClick}
      >
        {gActionItem.label}
      </button>
    </template>
  </div>

  <!-- Spinner/Loader -->
  <c-sf-gps-ds-ca-on-loading-indicator
    lwc:if={isPageLoading}
    label={scriptHeaderDef.allCustomLabelsUtil.OmniSpinnerTextLoading}
    size="medium"
  >
  </c-sf-gps-ds-ca-on-loading-indicator>
</template>
