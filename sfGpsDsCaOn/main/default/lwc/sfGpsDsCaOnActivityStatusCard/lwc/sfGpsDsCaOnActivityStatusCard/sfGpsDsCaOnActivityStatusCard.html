<!-- sldsValidatorIgnore -->
<!--
  Ontario Design System - Activity Status Card Component
  
  Displays an activity/application status card with:
  - Activity type name and remove action
  - Business name and registration site fields
  - Progress indicator (steps completed)
  - Start/Continue action button
  
  Designed for Public Sector Solutions BusinessLicenseApplication records.
  
  Compliance:
  - LWR: Light DOM compatible
  - LWS: No restricted APIs
  - Ontario DS: Follows card patterns
  - WCAG 2.1 AA: Proper headings, keyboard accessible, status announcements
-->
<template lwc:render-mode="light">
  <div class={computedCardClassName}>
    <!-- Card Header -->
    <div class="sfgpsdscaon-activity-status-card__header">
      <h2 lwc:if={isH2} class="sfgpsdscaon-activity-status-card__title">
        {activityName}
      </h2>
      <h3 lwc:elseif={isH3} class="sfgpsdscaon-activity-status-card__title">
        {activityName}
      </h3>
      <h4 lwc:elseif={isH4} class="sfgpsdscaon-activity-status-card__title">
        {activityName}
      </h4>

      <!-- WCAG 2.1.1: Using button for action (not navigation) -->
      <button
        lwc:if={allowRemove}
        type="button"
        class="sfgpsdscaon-activity-status-card__remove ontario-button ontario-button--tertiary"
        onclick={handleRemove}
        aria-label={removeAriaLabel}
      >
        Remove
      </button>
    </div>

    <!-- Card Body -->
    <div class="sfgpsdscaon-activity-status-card__body">
      <!-- Business Name -->
      <div class="sfgpsdscaon-activity-status-card__field">
        <span class="sfgpsdscaon-activity-status-card__field-label"
          >Business name:</span
        >
        <span
          lwc:if={hasBusinessName}
          class="sfgpsdscaon-activity-status-card__field-value"
        >
          {businessName}
        </span>
      </div>

      <!-- Registration Sites -->
      <div class="sfgpsdscaon-activity-status-card__field">
        <span class="sfgpsdscaon-activity-status-card__field-label"
          >Registration site(s):</span
        >
        <span
          lwc:if={hasRegistrationSites}
          class="sfgpsdscaon-activity-status-card__field-value"
        >
          {registrationSites}
        </span>
      </div>
    </div>

    <!-- Card Footer -->
    <div class="sfgpsdscaon-activity-status-card__footer">
      <!-- Progress Indicator -->
      <div class="sfgpsdscaon-activity-status-card__progress" role="status">
        <!-- Status Icon -->
        <svg
          class={statusIconClass}
          aria-hidden="true"
          focusable="false"
          viewBox="0 0 24 24"
        >
          <!-- Error/Not Started Icon -->
          <template lwc:if={isNotStarted}>
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
            />
          </template>
          <!-- In Progress Icon -->
          <template lwc:elseif={isInProgress}>
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
            />
          </template>
          <!-- Complete Icon -->
          <template lwc:else>
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
            />
          </template>
        </svg>
        <span class="sfgpsdscaon-activity-status-card__progress-text">
          {progressText}
        </span>
      </div>

      <!-- Action Button -->
      <button
        type="button"
        class="ontario-button ontario-button--primary sfgpsdscaon-activity-status-card__action"
        onclick={handleAction}
      >
        {actionButtonLabel}
      </button>
    </div>
  </div>
</template>
