<!-- sldsValidatorIgnore -->
<!--
  Ontario Design System - Coordinate Input Component
  
  Supports UTM, DMS (Degrees/Minutes/Seconds), and Decimal coordinate formats.
  
  Compliance:
  - LWR: Light DOM compatible
  - LWS: No restricted APIs
  - Ontario DS: Uses Ontario form input patterns
  - WCAG 2.1 AA: Proper labeling, keyboard accessible
-->
<template lwc:render-mode="light">
  <div class={computedContainerClassName}>
    <!-- UTM Format -->
    <div lwc:if={isUtmFormat} class="sfgpsdscaon-coordinate-input__utm">
      <div class="sfgpsdscaon-coordinate-input__field">
        <label class="ontario-label" for="utm-zone">
          UTM zone
          <span lwc:if={required} class="ontario-label__flag">(required)</span>
        </label>
        <p class="ontario-hint" id="utm-zone-hint">
          Enter a value between 1 and 60
        </p>
        <input
          type="number"
          class="ontario-input ontario-input--small"
          id="utm-zone"
          value={_utmZone}
          disabled={disabled}
          min="1"
          max="60"
          aria-describedby="utm-zone-hint"
          aria-required={required}
          onchange={handleUtmZoneChange}
        />
      </div>

      <div class="sfgpsdscaon-coordinate-input__field">
        <label class="ontario-label" for="utm-east">
          UTM east (M)
          <span lwc:if={required} class="ontario-label__flag">(required)</span>
        </label>
        <p class="ontario-hint" id="utm-east-hint">
          Easting coordinate in meters
        </p>
        <input
          type="number"
          class="ontario-input"
          id="utm-east"
          value={_utmEast}
          disabled={disabled}
          step="0.1"
          aria-describedby="utm-east-hint"
          aria-required={required}
          onchange={handleUtmEastChange}
        />
      </div>

      <div class="sfgpsdscaon-coordinate-input__field">
        <label class="ontario-label" for="utm-north">
          UTM north (M)
          <span lwc:if={required} class="ontario-label__flag">(required)</span>
        </label>
        <p class="ontario-hint" id="utm-north-hint">
          Northing coordinate in meters
        </p>
        <input
          type="number"
          class="ontario-input"
          id="utm-north"
          value={_utmNorth}
          disabled={disabled}
          step="0.1"
          aria-describedby="utm-north-hint"
          aria-required={required}
          onchange={handleUtmNorthChange}
        />
      </div>
    </div>

    <!-- DMS (Degrees, Minutes, Seconds) Format -->
    <div lwc:if={isDmsFormat} class="sfgpsdscaon-coordinate-input__dms">
      <!-- Latitude -->
      <fieldset
        class="sfgpsdscaon-coordinate-input__coordinate-group ontario-fieldset"
      >
        <legend class="ontario-label">
          Latitude
          <span lwc:if={required} class="ontario-label__flag">(required)</span>
        </legend>
        <p class="ontario-hint" id="lat-hint">{latitudeHint}</p>
        <div
          class="sfgpsdscaon-coordinate-input__dms-fields"
          role="group"
          aria-describedby="lat-hint"
        >
          <div class="sfgpsdscaon-coordinate-input__dms-field">
            <input
              type="number"
              class="ontario-input ontario-input--small"
              id="lat-degrees"
              value={_latDegrees}
              disabled={disabled}
              min="-90"
              max="90"
              aria-label="Latitude degrees"
              aria-required={required}
              onchange={handleLatDegreesChange}
            />
            <span
              class="sfgpsdscaon-coordinate-input__dms-symbol"
              aria-hidden="true"
              >°</span
            >
          </div>
          <div class="sfgpsdscaon-coordinate-input__dms-field">
            <input
              type="number"
              class="ontario-input ontario-input--small"
              id="lat-minutes"
              value={_latMinutes}
              disabled={disabled}
              min="0"
              max="59"
              aria-label="Latitude minutes"
              aria-required={required}
              onchange={handleLatMinutesChange}
            />
            <span
              class="sfgpsdscaon-coordinate-input__dms-symbol"
              aria-hidden="true"
              >'</span
            >
          </div>
          <div class="sfgpsdscaon-coordinate-input__dms-field">
            <input
              type="number"
              class="ontario-input ontario-input--small"
              id="lat-seconds"
              value={_latSeconds}
              disabled={disabled}
              min="0"
              max="59.99"
              step="0.01"
              aria-label="Latitude seconds"
              aria-required={required}
              onchange={handleLatSecondsChange}
            />
            <span
              class="sfgpsdscaon-coordinate-input__dms-symbol"
              aria-hidden="true"
              >"</span
            >
          </div>
        </div>
      </fieldset>

      <!-- Longitude -->
      <fieldset
        class="sfgpsdscaon-coordinate-input__coordinate-group ontario-fieldset"
      >
        <legend class="ontario-label">
          Longitude
          <span lwc:if={required} class="ontario-label__flag">(required)</span>
        </legend>
        <p class="ontario-hint" id="lng-hint">{longitudeHint}</p>
        <div
          class="sfgpsdscaon-coordinate-input__dms-fields"
          role="group"
          aria-describedby="lng-hint"
        >
          <div class="sfgpsdscaon-coordinate-input__dms-field">
            <input
              type="number"
              class="ontario-input ontario-input--small"
              id="lng-degrees"
              value={_lngDegrees}
              disabled={disabled}
              min="-180"
              max="180"
              aria-label="Longitude degrees"
              aria-required={required}
              onchange={handleLngDegreesChange}
            />
            <span
              class="sfgpsdscaon-coordinate-input__dms-symbol"
              aria-hidden="true"
              >°</span
            >
          </div>
          <div class="sfgpsdscaon-coordinate-input__dms-field">
            <input
              type="number"
              class="ontario-input ontario-input--small"
              id="lng-minutes"
              value={_lngMinutes}
              disabled={disabled}
              min="0"
              max="59"
              aria-label="Longitude minutes"
              aria-required={required}
              onchange={handleLngMinutesChange}
            />
            <span
              class="sfgpsdscaon-coordinate-input__dms-symbol"
              aria-hidden="true"
              >'</span
            >
          </div>
          <div class="sfgpsdscaon-coordinate-input__dms-field">
            <input
              type="number"
              class="ontario-input ontario-input--small"
              id="lng-seconds"
              value={_lngSeconds}
              disabled={disabled}
              min="0"
              max="59.99"
              step="0.01"
              aria-label="Longitude seconds"
              aria-required={required}
              onchange={handleLngSecondsChange}
            />
            <span
              class="sfgpsdscaon-coordinate-input__dms-symbol"
              aria-hidden="true"
              >"</span
            >
          </div>
        </div>
      </fieldset>
    </div>

    <!-- Decimal Format -->
    <div lwc:if={isDecimalFormat} class="sfgpsdscaon-coordinate-input__decimal">
      <div class="sfgpsdscaon-coordinate-input__field">
        <label class="ontario-label" for="decimal-lat">
          Latitude
          <span lwc:if={required} class="ontario-label__flag">(required)</span>
        </label>
        <p class="ontario-hint" id="decimal-lat-hint">For example: 43.6532</p>
        <input
          type="number"
          class="ontario-input"
          id="decimal-lat"
          value={_decimalLat}
          disabled={disabled}
          min="-90"
          max="90"
          step="0.000001"
          aria-describedby="decimal-lat-hint"
          aria-required={required}
          onchange={handleDecimalLatChange}
        />
      </div>

      <div class="sfgpsdscaon-coordinate-input__field">
        <label class="ontario-label" for="decimal-lng">
          Longitude
          <span lwc:if={required} class="ontario-label__flag">(required)</span>
        </label>
        <p class="ontario-hint" id="decimal-lng-hint">For example: -79.3832</p>
        <input
          type="number"
          class="ontario-input"
          id="decimal-lng"
          value={_decimalLng}
          disabled={disabled}
          min="-180"
          max="180"
          step="0.000001"
          aria-describedby="decimal-lng-hint"
          aria-required={required}
          onchange={handleDecimalLngChange}
        />
      </div>
    </div>

    <!-- Error Message -->
    <div
      lwc:if={hasError}
      class="ontario-error-messaging"
      role="alert"
      aria-live="assertive"
    >
      <svg
        class="ontario-icon"
        aria-hidden="true"
        focusable="false"
        viewBox="0 0 24 24"
      >
        <path
          d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
        />
      </svg>
      <span class="ontario-error-messaging__content">{errorMessage}</span>
    </div>
  </div>
</template>
