<template>
  <div class={errorClass}>
    <template if:true={isDisplayRadio}>
      <div class={horizonDisplayMode}>
        <fieldset>
          <legend
            if:true={label}
            class="slds-float_left slds-p-top_none slds-show"
            style={styleProperties.label.styles}
          >
            <abbr if:true={required} title="required" class="slds-required"
              >*</abbr
            >
            <span
              class="slds-form-element__legend slds-form-element__label slds-show_inline slds-float_none slds-m-bottom_xxx-small"
              style={styleProperties.label.styles}
            >
              {label}
            </span>
          </legend>
          <span class="slds-clearfix">
            <c-sf-gps-ds-osrt-tooltip
              if:true={fieldLevelHelp}
              theme="slds"
              content={fieldLevelHelp}
              icon-name="utility:info"
              arrowposition={fieldLevelHelpPosition}
              extrabuttonclass="slds-p-right_x-small slds-m-bottom_xxx-small "
            >
            </c-sf-gps-ds-osrt-tooltip>
            <slot name="label"></slot>
          </span>
          <template
            for:each={internalOpts}
            for:item="item"
            for:index="radioIndex"
          >
            <div class="slds-radio" key={item.id}>
              <input
                onfocus={handleFocus}
                onblur={handleBlur}
                onchange={onchangevalue}
                checked={item.selected}
                onkeydown={handleKeyDownEvent}
                required={required}
                type={type}
                disabled={isDisabled}
                name={item.name}
                id={item.id}
                value={item.value}
                tabindex={tabIndex}
                aria-invalid={isError}
              />
              <label
                class="slds-radio__label"
                for={item.id}
                disabled={isDisabled}
              >
                <span class="slds-radio_faux"></span>
                <span class="slds-form-element__label">{item.label}</span>
              </label>
            </div>
          </template>
        </fieldset>
      </div>
    </template>

    <template if:true={isImage}>
      <div class="slds-radio_custom_container slds-form-element__control">
        <fieldset>
          <legend
            if:true={label}
            class="slds-form-element__legend slds-form-element__label slds-float_left slds-show_inline slds-p-top_none slds-show"
            style={styleProperties.label.styles}
          >
            <abbr if:true={required} title="required" class="slds-required"
              >*</abbr
            >
            <span
              class="slds-m-bottom_xxx-small"
              style={styleProperties.label.styles}
            >
              {label}
            </span>
          </legend>
          <span class="slds-clearfix">
            <c-sf-gps-ds-osrt-tooltip
              if:true={fieldLevelHelp}
              theme="slds"
              content={fieldLevelHelp}
              arrowposition={fieldLevelHelpPosition}
              icon-name="utility:info"
              extrabuttonclass="slds-p-right_x-small slds-m-bottom_xxx-small "
            >
            </c-sf-gps-ds-osrt-tooltip>
            <slot name="label"></slot>
          </span>
          <div>
            <template
              for:each={internalOpts}
              for:item="item"
              for:index="radioIndex"
            >
              <div class={wrapperClass} key={item.id}>
                <input
                  value={item.value}
                  tabindex={tabIndex}
                  onfocus={handleFocus}
                  onblur={handleBlur}
                  required={required}
                  onchange={onchangevalue}
                  checked={item.selected}
                  onkeydown={handleKeyDownEvent}
                  type={type}
                  disabled={isDisabled}
                  name={item.name}
                  id={item.id}
                  aria-invalid={isError}
                />
                <label class={imageClass} for={item.id} disabled={isDisabled}>
                  <div
                    class="slds-img-item_select-container slds-img_option-width-height"
                  >
                    <template if:true={isImageDisplay}>
                      <img
                        if:true={item.imgId}
                        class="slds-img-item"
                        src={item.imgId}
                        alt={item.label}
                        title={item.label}
                      />
                    </template>
                    <span class="slds-img-item-caption" if:false={item.imgId}
                      >{item.label}</span
                    >
                  </div>
                  <template if:true={enabledCaption}>
                    <template if:true={item.imgId}>
                      <div class="slds-caption-out_cont">
                        <span class="captionOut slds-form-element__label"
                          >{item.label}</span
                        >
                      </div>
                    </template>
                  </template>
                </label>
              </div>
            </template>
          </div>
        </fieldset>
      </div>
    </template>

    <template if:true={isDisplayWide}>
      <div class="slds-form-element__control">
        <div class="slds-radio_button-group">
          <fieldset>
            <legend
              if:true={label}
              class="slds-form-element__label slds-p-top_none slds-show slds-float_left"
              style={styleProperties.label.styles}
            >
              <abbr if:true={required} title="required" class="slds-required"
                >*</abbr
              >
              <span style={styleProperties.label.styles}>{label}</span>
            </legend>
            <span class="slds-clearfix">
              <c-sf-gps-ds-osrt-tooltip
                if:true={fieldLevelHelp}
                theme="slds"
                content={fieldLevelHelp}
                arrowposition={fieldLevelHelpPosition}
                icon-name="utility:info"
                extrabuttonclass="slds-p-right_x-small slds-m-bottom_xxx-small "
              >
              </c-sf-gps-ds-osrt-tooltip>
              <slot name="label"></slot>
            </span>
            <template
              for:each={internalOpts}
              for:item="item"
              for:index="radioIndex"
            >
              <span class="slds-button slds-radio_button" key={item.id}>
                <input
                  value={item.value}
                  tabindex={tabIndex}
                  onfocus={handleFocus}
                  onblur={handleBlur}
                  required={required}
                  onchange={onchangevalue}
                  data-index={index}
                  checked={item.selected}
                  onkeydown={handleKeyDownEvent}
                  type={type}
                  disabled={isDisabled}
                  name={item.name}
                  id={item.id}
                  aria-invalid={isError}
                />
                <label
                  class="slds-radio_button__label"
                  data-index={index}
                  for={item.value}
                >
                  <span class="slds-radio_faux">{item.label}</span>
                </label>
              </span>
            </template>
          </fieldset>
        </div>
      </div>
    </template>
    <div if:true={isError} class="slds-form-element__help" role="alert">
      {errorMessage}
    </div>
  </div>
</template>
