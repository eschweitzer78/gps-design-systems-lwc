<template>
  <div
    if:true={cellData}
    onmouseenter={mouseoverField}
    onmouseleave={mouseoutField}
    onclick={onClickFieldValue}
    class={dataTableCellClass}
  >
    <template if:true={checkBoxType}>
      <!-- Display the checkbox if checkBoxType is true -->
      <c-sf-gps-ds-osrt-input
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        theme={theme}
        data-cell-position={cellData.position}
        data-checkbox="true"
        onblur={editDataCell}
        onchange={focusCheckbox}
        checked={cellData.value}
        type="checkbox"
        onmouseleave={mouseoverLeaveBox}
        disabled={isEditable}
      >
      </c-sf-gps-ds-osrt-input>
    </template>

    <template if:false={checkBoxType}>
      <c-sf-gps-ds-osrt-output-field
        if:true={showOutputField}
        record={cellData}
        field-name="value"
        field-label={columnData.fieldName}
        field-title={columnData.fieldTitle}
        type={fieldType}
        format={dateFormat}
        extraclass={outputFieldClass}
        prevent-navigation={preventNavigation}
        is-datatable
      ></c-sf-gps-ds-osrt-output-field>
      <c-sf-gps-ds-osrt-icon
        if:true={showIconField}
        icon-name="action:check"
        variant="inverse"
        bg-color="#54698d"
        extraclass={actionIconClass}
        data-cell-position={cellData.position}
        size="x-small"
        baseurl={iconUrl}
        theme={theme}
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
      >
      </c-sf-gps-ds-osrt-icon>
      <c-sf-gps-ds-osrt-icon
        style="padding: 0.5em"
        if:true={cellData.editable}
        class={iconClass}
        icon-name="utility:edit"
        data-cell-position={cellData.position}
        baseurl={iconUrl}
        size="x-small"
        theme={theme}
        onclick={editDataCell}
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        alternative-text={translatedLabels.cmpEdit}
      >
      </c-sf-gps-ds-osrt-icon>

      <!--Currency-->
      <c-sf-gps-ds-osrt-input
        class="editableField"
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        if:true={cellData.currency}
        data-cell-position={cellData.position}
        onblur={editDataCell}
        type="number"
        formatter="currency"
        theme={theme}
        value={cellData.value}
      ></c-sf-gps-ds-osrt-input>
      <!--Date-->
      <c-sf-gps-ds-osrt-input
        class="editableField"
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        if:true={cellData.date}
        data-cell-position={cellData.position}
        theme={theme}
        format={dateFormat}
        output-format={dateFormat}
        value={cellData.value}
        onblur={editDataCell}
        type="date"
        onchange={checkValidity}
      >
      </c-sf-gps-ds-osrt-input>
      <!--Date Time-->
      <c-sf-gps-ds-osrt-input
        class="editableField"
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        if:true={cellData.datetime}
        data-cell-position={cellData.position}
        theme={theme}
        format={dateFormat}
        output-format={dateFormat}
        value={cellData.value}
        onblur={editDataCell}
        type="datetime"
        onchange={checkValidity}
      >
      </c-sf-gps-ds-osrt-input>
      <!--Email-->
      <c-sf-gps-ds-osrt-input
        class="editableField"
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        if:true={cellData.email}
        data-cell-position={cellData.position}
        oninput={checkValidity}
        onblur={editDataCell}
        theme={theme}
        type="email"
        value={cellData.value}
      >
      </c-sf-gps-ds-osrt-input>
      <!--Number-->
      <c-sf-gps-ds-osrt-input
        skip-masking-on-keyevents="true"
        class="editableField"
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        if:true={cellData.number}
        data-cell-position={cellData.position}
        onblur={editDataCell}
        theme={theme}
        type="number"
        value={cellData.value}
        oninput={checkValidity}
        ignore-mask="true"
      >
      </c-sf-gps-ds-osrt-input>
      <!--Percent-->
      <c-sf-gps-ds-osrt-masked-input
        type="text"
        imask={percentMask}
        theme={theme}
        data-row-original-index={cellData.originalItemIndex}
        class="editableField"
        data-field-name={columnData.fieldName}
        if:true={cellData.percent}
        data-cell-position={cellData.position}
        onblur={editDataCell}
        value={cellData.value}
      >
      </c-sf-gps-ds-osrt-masked-input>
      <!--URL-->
      <c-sf-gps-ds-osrt-input
        class="editableField"
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        if:true={cellData.url}
        data-cell-position={cellData.position}
        onblur={editDataCell}
        theme={theme}
        type="url"
        value={cellData.value}
        oninput={checkValidity}
      >
      </c-sf-gps-ds-osrt-input>
      <!--Text-->
      <c-sf-gps-ds-osrt-input
        class="editableField"
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        if:true={cellData.text}
        data-cell-position={cellData.position}
        onblur={editDataCell}
        theme={theme}
        type="text"
        value={cellData.value}
      >
      </c-sf-gps-ds-osrt-input>

      <!--Textarea-->
      <c-sf-gps-ds-osrt-textarea
        class="editableField"
        extraclass="slds-show"
        data-field-name={columnData.fieldName}
        data-row-original-index={cellData.originalItemIndex}
        theme={theme}
        if:true={cellData.textarea}
        data-cell-position={cellData.position}
        onblur={editDataCell}
        value={cellData.value}
      >
      </c-sf-gps-ds-osrt-textarea>
    </template>
  </div>
</template>
