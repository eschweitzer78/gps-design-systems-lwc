<template>
  <!--
  <div class={_styleClasses.container}>
    <fieldset class={errorClass}>
  -->
  <div class="slds-container_fluid">
    <div class="nsw-form__group">
      <!--
      <div class="sfgpsds-label__group">
        <div class="sfgpsds-label__group_label_container">
          <div class="sfgpsds-label__group_label">
-->
      <label
        class={computedLabelClassName}
        aria-label={mergedLabel}
        for="inputId"
      >
        {mergedLabel}
        <span if:true={_propSetMap.required} class="sr-only">
          ({requiredLabel})</span
        >
      </label>
      <!--
          </div>
        </div>
-->

      <template if:true={_propSetMap.repeat}>
        <span
          slot="label"
          style="bottom: 7px; right: -11px"
          class={_styleClasses.repeatContainer}
          role="group"
        >
          <button
            if:true={canRepeat}
            class={_styleClasses.repeatAdd}
            onclick={handleAdd}
          >
            <omnistudio-icon
              icon-name="utility:add"
              alternative-text={_repeatAlternativeText}
              extraclass={_styleClasses.repeatIcons}
              size="xx-small"
            >
            </omnistudio-icon>
          </button>
          <button
            if:true={canRemove}
            class={_styleClasses.repeatRemove}
            onclick={handleRemove}
          >
            <omnistudio-icon
              icon-name="utility:close"
              alternative-text={_removeAlternativeText}
              extraclass={_styleClasses.repeatIcons}
              size="xx-small"
            >
            </omnistudio-icon>
          </button>
        </span>
      </template>

      <span if:true={mergedHelpText} id="helper" class="nsw-form__helper">
        {mergedHelpText}
      </span>
      <!--
      </div>
-->

      <div class="nsw-form__predictive">
        <div class="sfgps-combobox_container">
          <div
            class="sfgps-combobox sfgps-dropdown-trigger sfgps-dropdown-trigger_click slds-dropdown-trigger slds-dropdown-trigger_click"
            aria-expanded={show}
            aria-haspopup="listbox"
            role="combobox"
          >
            <input
              class="nsw-form__input vlocity-input sfgpsds-input lookup"
              type="text"
              value={lookupDisplay}
              disabled={_propSetMap.readOnly}
              required={_propSetMap.required}
              readonly
              onblur={hideOptions}
              onkeydown={handleKeyDown}
              onkeyup={handleKeyUp}
              onmouseup={showLookup}
              aria-controls="lookup"
              id="lookupId"
              placeholder={_propSetMap.placeholder}
              data-omni-input
            />
            <div
              class="sfgps-dropdown sfgps-dropdown_fluid nsw-form__predictive-list"
              role="listbox"
              id="lookup"
              onmousedown={handleKeyDown}
              onmouseleave={handleKeyDown}
              onmouseup={handleKeyDown}
            >
              <ul
                class="sfgps-listbox sfgps-listbox_vertical"
                role="presentation"
              >
                <template
                  for:each={options}
                  for:item="optionItem"
                  for:index="optionIndex"
                >
                  <li
                    key={optionItem.key}
                    role="presentation"
                    onmouseup={selectOption}
                    onmouseover={mouseOverFocus}
                    class="sfgps-listbox__item"
                  >
                    <div
                      class="sfgps-media sfgps-listbox__option sfgps-listbox__option_entity sfgps-listbox__option_has-meta"
                      id={optionItem.id}
                      role="option"
                      data-option-index={optionIndex}
                      aria-selected={optionItem.selected}
                    >
                      <span
                        class="sfgps-media__body"
                        data-option-index={optionIndex}
                      >
                        <span
                          class="sfgps-listbox__option-text sfgps-listbox__option-text_entity"
                          data-option-index={optionIndex}
                        >
                          {optionItem.value}
                        </span>
                      </span>
                    </div>
                  </li>
                </template>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <span
        if:true={hasError}
        class={computedHelperClassName}
        aria-live="assertive"
        id="errorMessageBlock"
      >
        <span
          if:true={computedStatusIcon}
          class="material-icons nsw-material-icons"
          aria-hidden="true"
        >
          {computedStatusIcon}
        </span>
        {errorMessage}
      </span>

      <template if:true={isPageLoading}>
        <omnistudio-spinner
          variant="brand"
          alternative-text={allCustomLabelsUtil.OmniSpinnerTextLoading}
          size="small"
        >
        </omnistudio-spinner>
      </template>
    </div>
  </div>
  <!--
    </fieldset>
  </div>
  -->
</template>
