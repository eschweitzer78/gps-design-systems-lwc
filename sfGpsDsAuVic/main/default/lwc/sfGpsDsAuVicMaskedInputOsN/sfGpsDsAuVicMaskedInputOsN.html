<template>
  <div if:false={isCustomLwc} class={errorClass}>
    <div class="rpl-form">
      <div class="rpl-fieldset">
        <div class={computedFormGroupClassName}>
          <label
            if:true={labelVisible}
            data-label="true"
            style="width: auto"
            for={inputId}
          >
            <span>{label}</span>
            <slot name="label"> </slot>
          </label>

          <div if:true={fieldLevelHelp} id="helper" class="hint">
            {fieldLevelHelp}
          </div>

          <div class="field-wrap">
            <!-- formula -->
            <div if:true={_isFormula}>
              <label for={inputId}>
                <span>{label}</span>
              </label>

              <input
                class="slds-input"
                type="text"
                readonly=""
                disabled=""
                id={inputId}
                value={maskedValue}
              />
            </div>

            <div if:false={static} class={pretextClass}>
              <template if:true={isCurrencySFlocale}>
                <input
                  if:true={isInput}
                  class="vlocity-input"
                  id={inputId}
                  tabindex={tabIndex}
                  accesskey={accessKey}
                  step={step}
                  min={min}
                  max={max}
                  maxlength={maxLength}
                  minlength={minLength}
                  type={type}
                  inputmode={inputmode}
                  disabled={disabled}
                  required={required}
                  readonly={readOnly}
                  placeholder={placeholder}
                  aria-labelledby={ariaLabelledBy}
                  aria-describedby={ariaDescribedBy}
                  aria-label={ariaLabel}
                  value={_currencyVal}
                  onfocus={handleFocus}
                  onblur={handleBlur}
                  oninput={handleInput}
                  onkeyup={handleKeyup}
                  onchange={handleChange}
                />
              </template>

              <template if:false={isCurrencySFlocale}>
                <input
                  if:true={isNumber}
                  class="hiddenNumber slds-hide"
                  required={required}
                  min={min}
                  max={max}
                  step={step}
                  type="number"
                  value={value}
                />

                <input
                  if:true={isInput}
                  class="vlocity-input"
                  id={inputId}
                  tabindex={tabIndex}
                  accesskey={accessKey}
                  step={step}
                  min={min}
                  max={max}
                  maxlength={maxLength}
                  minlength={minLength}
                  type={type}
                  inputmode={inputmode}
                  disabled={disabled}
                  required={required}
                  readonly={readOnly}
                  placeholder={placeholder}
                  aria-labelledby={ariaLabelledBy}
                  aria-describedby={ariaDescribedBy}
                  aria-label={ariaLabel}
                  autocomplete={autocomplete}
                  name={name}
                  onfocus={handleFocus}
                  onblur={handleBlur}
                  oninput={handleInput}
                  onkeyup={handleKeyup}
                  onchange={handleChange}
                />
              </template>
            </div>
          </div>

          <div
            if:true={isRealError}
            class="errors help-block"
            aria-live="assertive"
            id="errorMessageBlock"
          >
            <span>{errorMessage}</span>
          </div>
        </div>

        <div if:true={showGrid} class="slds-grid">
          <div if:true={static} class="slds-form-element__static">
            {maskedValue}
          </div>
          <span if:true={inlineHelp} class="slds-form-element__static">
            {inlineHelp}
          </span>
        </div>
      </div>
    </div>
  </div>
</template>
