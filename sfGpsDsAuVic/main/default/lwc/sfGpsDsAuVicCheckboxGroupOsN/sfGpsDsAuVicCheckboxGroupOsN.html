<template>
  <div class="rpl-form">
    <fieldset if:true={isCheckbox} class="rpl-fieldset">
      <div class={computedFormGroupClassName}>
        <label>
          <span>{label}</span>
          <slot name="label"> </slot>
        </label>

        <div if:true={fieldLevelHelp} id="helper" class="hint">
          {fieldLevelHelp}
        </div>

        <div
          if:true={isRealError}
          class="errors help-block"
          aria-live="assertive"
          id="errorMessageBlock"
        >
          <span>{errorMessage}</span>
        </div>

        <div class="field-wrap">
          <div class="form-control">
            <!-- avoid required after label -->
            <template
              for:each={_decoratedInternalOpts}
              for:item="e"
              for:index="index"
            >
              <label
                key={e.id}
                class="rpl-checkbox"
                data-index={index}
                for={e.id}
              >
                <input
                  type="checkbox"
                  required={required}
                  disabled={disabled}
                  id={e.id}
                  data-index={index}
                  tabindex={tabIndex}
                  name={name}
                  checked={e.selected}
                  value={e.value}
                  aria-invalid={isAriaInvalid}
                  aria-describedby={computedAriaDescribedBy}
                  onfocus={handleFocus}
                  onchange={onchangevalue}
                />
                <span class={e.boxClassName}>
                  <svg
                    viewBox="0 0 11 11"
                    aria-hidden="true"
                    overflow="visible"
                    class="rpl-icon rpl-icon--tick rpl-icon--color_primary"
                    style="width: 11px; height: 11px"
                  >
                    <path
                      d="M8.152.47a1 1 0 111.696 1.06l-5 8a1 1 0 01-1.555.177l-3-3a1 1 0 011.414-1.414l2.111 2.111L8.152.47z"
                    ></path>
                  </svg>
                </span>
                <span class="rpl-checkbox__inline-label"> {e.label} </span>
              </label>
            </template>
          </div>
        </div>
      </div>
    </fieldset>
  </div>
</template>
