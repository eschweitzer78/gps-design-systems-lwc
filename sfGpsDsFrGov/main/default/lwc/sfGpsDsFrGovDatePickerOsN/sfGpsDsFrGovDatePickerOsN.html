<template>
  <c-sf-gps-ds-fr-gov-core-os-n></c-sf-gps-ds-fr-gov-core-os-n>
  <div class={computedFormGroupClassName}>
    <label lwc:if={label} class="fr-label" for="date-input-day">
      <span
        >{label}
        <template if:false={hideAsterisk}>
          <abbr
            lwc:if={required}
            class="fr-input-asterisk"
            title={requiredLabel}
          >
            *
          </abbr>
        </template>
      </span>
      <slot name="label"></slot>

      <span if:true={fieldLevelHelp} id="helper" class="fr-hint-text">
        {fieldLevelHelp}
      </span>
    </label>

    <input
      class="fr-input"
      type="date"
      id="text-input-date"
      aria-label={ariaLabel}
      tabindex={tabIndex}
      readonly={readOnly}
      aria-readonly={readOnly}
      required={required}
      placeholder={placeholder}
      disabled={disabled}
      name="text-input-date"
      autocomplete="off"
      aria-invalid={ariaInvalid}
      aria-describedby="errorMessageBlock"
      value={dateValue}
      onblur={sfGpsDsHandleDateBlur}
      onchange={sfGpsDsHandleDateChange}
    />

    <span
      if:true={sfGpsDsHasAnyError}
      class="fr-error-text"
      aria-live="assertive"
      id="errorMessageBlock"
    >
      {_errorMessage}
    </span>

    <!-- hidden input for original widget -->
    <div class="slds-form-element__control">
      <input
        type={type}
        data-id="date-picker-slds-input"
        value={_displayValue}
        required={required}
        hidden
      />
    </div>
  </div>
</template>
