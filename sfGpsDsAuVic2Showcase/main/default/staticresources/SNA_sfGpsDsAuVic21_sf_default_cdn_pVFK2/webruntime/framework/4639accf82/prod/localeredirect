!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).redirectForLocale=n()}(this,(function(){"use strict";function e(e,n,i){if(n){const o=30484800;document.cookie=`${e}=${n};path=${i};Max-Age=${o}`}else document.cookie=`${e}=;path=${i};expires=Thu, 01 Jan 1970 00:00:01 GMT`}return function(n,i,o,t,l){if(null==t||!i||i.length<=1)return;const c=t.split("/");let s=c.length<2?"":c[c.length-1];i.includes(s)||(s="");const a=window.navigator.languages;let d=a.find((e=>i.includes(e)));if(!d){const e=i.filter((e=>!e.includes("-")));d=a.map((e=>e.split("-")[0])).find((n=>e.includes(n)))}const u=new RegExp(`\\/${s}\\/?`),f=s?t.replace(u,""):t,r=document.cookie.split("; ").reduce(((e,n)=>{const[i,...o]=n.split("=");return e[i]=o.join("="),e}),{})[o],p=Boolean(r&&i.includes(r)),w="/",h=window.navigator.userAgent;if(h){if(l.some((e=>h.includes(e))))return void(s&&i.includes(s)?e(o,s,w):e(o,n,w))}if(s&&i.includes(s))e(o,p||d!==s?s:null,w);else if(/[?&]redirect=false/.test(window.location.search))e(o,n===d?null:n,w);else if(p){if(r!==n){const e=window.location.pathname.replace(t,`${f}/${r}`);window.location.pathname=e}}else if(d&&d!==n){const e=window.location.pathname.replace(t,`${f}/${d}`);window.location.pathname=e}}}));
