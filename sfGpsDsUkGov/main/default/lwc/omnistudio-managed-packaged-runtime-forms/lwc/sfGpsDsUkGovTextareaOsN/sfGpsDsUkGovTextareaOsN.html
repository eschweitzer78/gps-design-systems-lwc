<template>
  <div class={computedFormGroupClassName}>
    <div if:true={labelVisible} data-label="true">
      <h1 lwc:if={computedIsH1} class="govuk-label-wrapper">
        <label class={computedLabelClassName} for="textareaId">{label}</label>
      </h1>
      <h2 lwc:elseif={computedIsH2} class="govuk-label-wrapper">
        <label class={computedLabelClassName} for="textareaId">{label}</label>
      </h2>
      <h3 lwc:elseif={computedIsH3} class="govuk-label-wrapper">
        <label class={computedLabelClassName} for="textareaId">{label}</label>
      </h3>
      <label lwc:else class={computedLabelClassName} for="textareaId"
        >{label}</label
      >
      <slot name="label"> </slot>
    </div>

    <div if:true={fieldLevelHelp} id="helper" class="govuk-hint">
      {fieldLevelHelp}
    </div>

    <p
      if:true={sfGpsDsIsError}
      id="errorMessageBlock"
      class="govuk-error-message"
    >
      <span class="govuk-visually-hidden">{sfGpsDsErrorSrLabel}</span>
      {sfGpsDsErrorMessage}
    </p>

    <textarea
      class={computedTextAreaClassName}
      tabindex={tabIndex}
      minlength={minLength}
      maxlength={maxLength}
      readonly={readOnly}
      aria-readonly={readOnly}
      accesskey={accessKey}
      name={name}
      disabled={disabled}
      required={required}
      placeholder={placeholder}
      id="textareaId"
      autocomplete={autocomplete}
      aria-describedby={computedAriaDescribedBy}
      aria-invalid={sfGpsDsIsError}
      oninput={updateValue}
      onblur={validateError}
      onfocus={triggerEvent}
      onchange={triggerEvent}
      onkeyup={handleKeyUp}
      onkeydown={keyCallbacks}
      data-sfgpsds-input
    >
      {_val}
    </textarea>

    <div
      id="character-count-text"
      class={computedCharacterCountErrorClassName}
      if:true={_showCharacterCount}
    >
      {characterCountText}
    </div>
  </div>
</template>
