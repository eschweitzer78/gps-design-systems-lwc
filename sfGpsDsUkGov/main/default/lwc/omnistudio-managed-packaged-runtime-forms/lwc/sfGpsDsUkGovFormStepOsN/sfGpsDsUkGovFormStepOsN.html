<!-- sldsValidatorIgnore -->
<template>
  <template if:true={jsonDef.bAccordionActive}>
    <div
      if:true={sfGpsDsErrorMessages}
      class="govuk-error-summary"
      aria-labelledby={computedErrorLabelId}
      role="alert"
    >
      <h1
        lwc:if={computedIsH1}
        class="govuk-error-summary__title"
        id={computedErrorLabelId}
      >
        There is a problem
      </h1>
      <h2
        lwc:elseif={computedIsH2}
        class="govuk-error-summary__title"
        id={computedErrorLabelId}
      >
        There is a problem
      </h2>
      <h3
        lwc:elseif={computedIsH3}
        class="govuk-error-summary__title"
        id={computedErrorLabelId}
      >
        There is a problem
      </h3>
      <p lwc:else class="govuk-error-summary__title" id={computedErrorLabelId}>
        There is a problem
      </p>

      <div class="govuk-error-summary__body">
        <ul class="govuk-list govuk-error-summary__list">
          <template for:each={sfGpsDsErrorMessages} for:item="error">
            <li key={error.key}>
              <a
                href={error.href}
                data-errorkey={error.key}
                onclick={handleErrorClick}
                >{error.message}</a
              >
            </li>
          </template>
        </ul>
      </div>
    </div>

    <span lwc:if={_propSetMap.captionText} class={computedCaptionClassName}
      >{_propSetMap.captionText}</span
    >

    <template lwc:if={mergedLabel}>
      <h1
        lwc:if={computedIsH1}
        class={computedHeadingClassName}
        aria-live="polite"
        tabindex="-1"
      >
        {mergedLabel}
      </h1>
      <h2
        lwc:elseif={computedIsH2}
        class={computedHeadingClassName}
        aria-live="polite"
        tabindex="-1"
      >
        {mergedLabel}
      </h2>
      <h3
        lwc:elseif={computedIsH3}
        class={computedHeadingClassName}
        aria-live="polite"
        tabindex="-1"
      >
        {mergedLabel}
      </h3>
      <!-- otherwise (by default) it's just not shown -->
    </template>

    <a
      lwc:if={showPrev}
      href="#previous"
      class="govuk-back-link"
      onclick={handleBack}
      >{mergedPreviousLabel}</a
    >

    <!-- slds-p-horizontal_medium  -->
    <div class="vlc-separator slds-m-top_medium slds-m-bottom_medium"></div>
    <!--  slds-m-horizontal_medium -->

    <div>
      <!-- class="govuk-width-container" -->

      <div class="slds-grid slds-wrap omniscript-step__body">
        <slot class="slds-grid slds-wrap slds-size_1-of-1"></slot>
      </div>

      <!-- <hr class="sepbutton" /> -->

      <div class="form-actions">
        <div class="govuk-button-group">
          <button
            lwc:if={showNext}
            class="govuk-button"
            value={mergedNextLabel}
            onclick={handleNext}
          >
            {mergedNextLabel}
          </button>
          <button
            lwc:if={showSave}
            class="govuk-button govuk-button--secondary"
            onclick={handleSave}
          >
            {mergedSaveLabel}
          </button>
        </div>
      </div>
    </div>
  </template>
</template>
