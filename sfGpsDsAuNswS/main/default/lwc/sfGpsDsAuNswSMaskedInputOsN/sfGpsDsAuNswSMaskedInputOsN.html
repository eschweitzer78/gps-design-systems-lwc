<template>
  <template if:false={isCustomLwc}>
    <div class="form__item" style="width: auto">
      <template if:true={labelVisible}>
        <legend if:true={useLegend} class={computedLegendClass} for={inputId}>
          <span> {label} </span>
          <span if:true={required} class="visually-hidden">
            ({requiredLabel})</span
          >
          <!-- TODO: not sure required can be depicted -->
          <span if:true={fieldLevelHelp} id={helperId} class="form__help">
            {fieldLevelHelp}
          </span>
        </legend>
        <template if:false={useLegend}>
          <label class={computedLabelClassName} for={inputId}>
            {label}
            <span if:true={required}> ({requiredLabel})</span>
          </label>
          <slot name="label"> </slot>
          <span if:true={fieldLevelHelp} id={helperId} class="form__help">
            {fieldLevelHelp}
          </span>
        </template>
      </template>

      <!-- formula -->
      <div if:true={_isFormula}>
        <input
          class="slds-input"
          type="text"
          readonly=""
          disabled=""
          id={inputId}
          value={maskedValue}
        />
      </div>

      <div if:false={static} class={pretextClass}>
        <template if:true={isCurrencySFlocale}>
          <input
            if:true={isInput}
            class={computedInputInputClassName}
            id={inputId}
            tabindex={tabIndex}
            accesskey={accessKey}
            step={step}
            min={min}
            max={max}
            maxlength={maxLength}
            minlength={minLength}
            type={type}
            inputmode={inputmode}
            disabled={disabled}
            required={required}
            readonly={readOnly}
            placeholder={placeholder}
            aria-labelledby={ariaLabelledBy}
            aria-describedby={ariaDescribedBy}
            aria-label={ariaLabel}
            value={_currencyVal}
            onfocus={handleFocus}
            onblur={handleBlur}
            oninput={handleInput}
            onkeyup={handleKeyup}
            onchange={handleChange}
          />
        </template>

        <template if:false={isCurrencySFlocale}>
          <input
            if:true={isNumber}
            class="hiddenNumber slds-hide"
            required={required}
            min={min}
            max={max}
            step={step}
            type="number"
            value={value}
          />

          <input
            if:true={isInput}
            class={computedInputInputClassName}
            id={inputId}
            tabindex={tabIndex}
            accesskey={accessKey}
            step={step}
            min={min}
            max={max}
            maxlength={maxLength}
            minlength={minLength}
            type={type}
            inputmode={inputmode}
            disabled={disabled}
            required={required}
            readonly={readOnly}
            placeholder={placeholder}
            aria-labelledby={ariaLabelledBy}
            aria-describedby={ariaDescribedBy}
            aria-label={ariaLabel}
            autocomplete={autocomplete}
            onfocus={handleFocus}
            onblur={handleBlur}
            oninput={handleInput}
            onkeyup={handleKeyup}
            onchange={handleChange}
          />
        </template>

        <p
          if:true={isError}
          class="form__error"
          aria-live="assertive"
          id="errorMessageBlock"
        >
          {errorMessage}
        </p>
      </div>

      <div class="slds-grid">
        <div if:true={static} class="slds-form-element__static">
          {maskedValue}
        </div>
        <span if:true={inlineHelp} class="slds-form-element__static">
          {inlineHelp}
        </span>
      </div>
    </div>
  </template>
</template>
