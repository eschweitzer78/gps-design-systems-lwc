<!-- sldsValidatorIgnore -->
<template>
  <c-sf-gps-ds-configuration-error
    lwc:if={_sfGpsDsErrors}
    errors={_sfGpsDsErrors}
  >
  </c-sf-gps-ds-configuration-error>

  <template lwc:elseif={isAuthConfigLoading}>
    <div class={computedClassName}>
      <div class="rpl-content sf-gps-ds-au-nsw-login-container">
        <c-sf-gps-ds-au-vic2-spinner> </c-sf-gps-ds-au-vic2-spinner>
      </div>
    </div>
  </template>

  <template lwc:elseif={computedHasAuthConfigIssue}>
    <div class={computedClassName}>
      <div class="rpl-content sf-gps-ds-au-vic2-login-container">
        <h2 lwc:if={title}>{title}</h2>

        <div class="rpl-u-margin-t-2">
          <c-sf-gps-ds-au-vic2-alert
            as="error"
            title={i18n.authConfigErrorTitle}
          >
            <p>{i18n.authConfigErrorLabel}</p>
          </c-sf-gps-ds-au-vic2-alert>
        </div>
      </div>
    </div>
  </template>

  <template lwc:elseif={computedLoginDisabled}>
    <div class={computedClassName}>
      <div class="rpl-content sf-gps-ds-au-vic2-login-container">
        <h2 lwc:if={title}>{title}</h2>

        <div class="rpl-u-margin-t-2">
          <c-sf-gps-ds-au-vic2-alert as="error" title={i18n.loginDisabledTitle}>
            <p>{i18n.loginDisabledLabel}</p>
          </c-sf-gps-ds-au-vic2-alert>
        </div>
      </div>
    </div>
  </template>

  <template lwc:else>
    <div class={computedClassName}>
      <div class="rpl-content sf-gps-ds-au-vic2-login-container">
        <form class="rpl-form__form rpl-form">
          <fieldset>
            <h2 lwc:if={title}>{title}</h2>

            <div
              lwc:if={description}
              class="rpl-u-margin-t-2"
              lwc:ref="description"
              lwc:dom="manual"
            ></div>
            <template lwc:else>
              <slot name="description"></slot>
            </template>

            <div class="rpl-u-margin-t-2">
              <c-sf-gps-ds-au-vic2-alert
                lwc:if={errorMessage}
                as="error"
                title={i18n.errorTitle}
              >
                <p>{errorMessage}</p>
              </c-sf-gps-ds-au-vic2-alert>
            </div>

            <div class="rpl-form__outer">
              <div class="rpl-form__wrapper">
                <label for="username" class="rpl-form-label">
                  {i18n.usernameFieldLabel}
                  <span class="rpl-form-label__required rpl-type-label-small">
                    ({i18n.required})</span
                  >
                </label>
                <div class="rpl-form__inner">
                  <div
                    class="rpl-form__input rpl-form__input--default rpl-form__input--type-password"
                  >
                    <div class="rpl-form__input-wrap">
                      <input
                        type="text"
                        id="username"
                        name="username"
                        value={username}
                        class="rpl-u-focusable-outline"
                        aria-required="true"
                        required
                        autocomplete="username"
                        onkeyup={handleChange}
                        onchange={handleChange}
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-actions rpl-u-margin-t-2">
              <c-sf-gps-ds-au-vic2-button
                el="button"
                label={i18n.resetButtonLabel}
                disabled={computedIsResetButtonDisabled}
                onclick={handleReset}
              >
              </c-sf-gps-ds-au-vic2-button>

              <c-sf-gps-ds-au-vic2-spinner
                lwc:if={isResettingPassword}
                size="s"
                label={i18n.resetPasswordWaitLabel}
              >
              </c-sf-gps-ds-au-vic2-spinner>
              <template lwc:else>
                <c-sf-gps-ds-au-vic2-button
                  lwc:if={targetLoginUrl}
                  el="a"
                  url={targetLoginUrl}
                  target="_self"
                  variant="outlined"
                >
                  {i18n.cancelButtonLabel}
                </c-sf-gps-ds-au-vic2-button>
              </template>
            </div>
          </fieldset>
        </form>
      </div>
    </div>
  </template>
</template>
