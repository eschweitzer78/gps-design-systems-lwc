<!-- sldsValidatorIgnore -->
<template>
  <c-sf-gps-ds-au-vic2-combobox
    label={mergedLabel}
    disabled={_readOnly}
    required={_propSetMap.required}
    required-label={allCustomLabelsUtil.OmniRequired}
    options={decoratedRealtimeOptions}
    value={elementValue}
    field-level-help={mergedHelpText}
    searchable={searchable}
    message-when-value-missing={mergedMessageWhenValueMissing}
    data-refresh={refresh}
    data-omni-input
    onchange={handleChange}
    class="rpl-form__wrapper"
    unselect-label={allCustomLabelsUtil.OmniClear}
  >
    <template if:true={_propSetMap.repeat}>
      <span slot="label" class="rpl-u-padding-t-1" role="group">
        <button lwc:if={canRepeat} class="rpl-u-margin-l-1" onclick={handleAdd}>
          <c-sf-gps-ds-au-vic2-icon
            name="icon-add"
            title="Repeat Select"
            size="xs"
            colour="inactive"
          >
          </c-sf-gps-ds-au-vic2-icon>
        </button>
        <button
          lwc:if={canRemove}
          class="rpl-u-margin-l-1"
          onclick={handleRemove}
        >
          <c-sf-gps-ds-au-vic2-icon
            name="icon-cancel-circle-filled"
            title="Remove Select"
            size="xs"
            colour="inactive"
          >
          </c-sf-gps-ds-au-vic2-icon>
        </button>
      </span>
    </template>
  </c-sf-gps-ds-au-vic2-combobox>
</template>
