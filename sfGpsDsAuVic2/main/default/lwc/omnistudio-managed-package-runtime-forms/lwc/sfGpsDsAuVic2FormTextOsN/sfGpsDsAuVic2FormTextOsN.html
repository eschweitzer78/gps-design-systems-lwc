<!-- sldsValidatorIgnore -->
<template>
  <c-sf-gps-ds-au-vic2-masked-input-os-n
    lwc:if={_isMasked}
    type={_inputType}
    label={_propSetMap.label}
    required={_propSetMap.required}
    required-label={allCustomLabelsUtil.OmniRequired}
    max-length={_maxLength}
    min-length={_minLength}
    pattern={_patternVal}
    imask={_imaskTextAttributes}
    theme={_theme}
    read-only={_propSetMap.readOnly}
    tab-index={tabIndex}
    field-level-help={_handleHelpText}
    field-level-help-position={_propSetMap.helpTextPos}
    placeholder={mergedPlaceholder}
    message-when-value-missing={mergedMessageWhenValueMissing}
    message-when-pattern-mismatch={mergedMessageWhenPatternMismatch}
    message-when-too-short={mergedMessageWhenTooShort}
    message-when-too-long={mergedMessageWhenTooLong}
    message-when-bad-input={mergedMessageWhenBadInput}
    message-when-range-overflow={mergedMessageWhenRangeOverflow}
    message-when-range-underflow={mergedMessageWhenRangeUnderflow}
    message-when-step-mismatch={mergedMessageWhenStepMismatch}
    message-when-type-mismatch={mergedMessageWhenTypeMismatch}
    message-when-mask-incomplete={mergedMessageWhenMaskIncomplete}
    value={elementValue}
    autocomplete={_autocomplete}
    name={_name}
    data-omni-input
    onblur={handleBlur}
    class="rpl-form__wrapper"
  >
    <template if:true={_propSetMap.repeat}>
      <span slot="label" class="rpl-u-padding-t-1" role="group">
        <button lwc:if={canRepeat} class="rpl-u-margin-l-1" onclick={handleAdd}>
          <c-sf-gps-ds-au-vic2-icon-os
            name="icon-add"
            title={_repeatAlternativeText}
            size="xs"
            colour="inactive"
          >
          </c-sf-gps-ds-au-vic2-icon-os>
        </button>
        <button
          lwc:if={canRemove}
          class="rpl-u-margin-l-1"
          onclick={handleRemove}
        >
          <c-sf-gps-ds-au-vic2-icon-os
            name="icon-cancel-circle-filled"
            title={_removeAlternativeText}
            size="xs"
            colour="inactive"
          >
          </c-sf-gps-ds-au-vic2-icon-os>
        </button>
      </span>
    </template>
  </c-sf-gps-ds-au-vic2-masked-input-os-n>
  <c-sf-gps-ds-au-vic2-input-os-n
    lwc:else
    type={_inputType}
    label={mergedLabel}
    required={_propSetMap.required}
    required-label={allCustomLabelsUtil.OmniRequired}
    read-only={_propSetMap.readOnly}
    max-length={_maxLength}
    min-length={_minLength}
    pattern={_patternVal}
    theme={_theme}
    tab-index={tabIndex}
    field-level-help={mergedHelpText}
    field-level-help-position={_propSetMap.helpTextPos}
    icon-name="utility:info"
    placeholder={mergedPlaceholder}
    message-when-value-missing={_messageWhenValueMissing}
    message-when-pattern-mismatch={_messageWhenPatternMismatch}
    message-when-too-short={_messageWhenTooShort}
    message-when-too-long={_messageWhenTooLong}
    message-when-bad-input={_messageWhenBadInput}
    message-when-range-overflow={_messageWhenRangeOverflow}
    message-when-range-underflow={_messageWhenRangeUnderflow}
    message-when-step-mismatch={_messageWhenStepMismatch}
    message-when-type-mismatch={_messageWhenTypeMismatch}
    autocomplete={_autocomplete}
    value={elementValue}
    name={_name}
    data-omni-input
    onblur={handleBlur}
    input-class-name="rpl-form__input--type-text"
    class="rpl-form__wrapper"
  >
    <template if:true={_propSetMap.repeat}>
      <span slot="label" class="rpl-u-padding-t-1" role="group">
        <button
          lwc:if={canRepeat}
          class="rpl-u-margin-l-1"
          aria-label={_repeatAlternativeText}
          onclick={handleAdd}
        >
          <c-sf-gps-ds-au-vic2-icon-os
            name="icon-add"
            size="xs"
            colour="inactive"
          >
          </c-sf-gps-ds-au-vic2-icon-os>
        </button>
        <button
          lwc:if={canRemove}
          class="rpl-u-margin-l-1"
          aria-label={_removeAlternativeText}
          onclick={handleRemove}
        >
          <c-sf-gps-ds-au-vic2-icon-os
            name="icon-cancel-circle-filled"
            size="xs"
            colour="inactive"
          >
          </c-sf-gps-ds-au-vic2-icon-os>
        </button>
      </span>
    </template>
  </c-sf-gps-ds-au-vic2-input-os-n>
</template>
