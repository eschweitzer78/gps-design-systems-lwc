<!-- sldsValidatorIgnore -->
<template>
  <nav id="left-nav" class={computedClassName} aria-label={i18n.ariaLabel}>
    <!-- Navigation links -->
    <ul lwc:if={_navItems} class="qld__link-list">
      <template for:each={_decoratedNavItems} for:item="navItem">
        <!-- level 2 -->
        <li
          key={navItem.index}
          role="menuitem"
          class={navItem.liClassName}
          aria-current={navItem.ariaCurrent}
        >
          <a
            href={navItem.url}
            data-ndx={navItem.index}
            class={navItem.anchorClassName}
            onclick={handleClick}
          >
            <span lwc:if={navItem.isHome} class="qld__left-nav__item-icon">
              <svg
                aria-hidden="true"
                focusable="false"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 576 512"
                height="32"
                width="32"
              >
                <path
                  fill="currentColor"
                  d="M277.4 4.002C283.5-1.334 292.5-1.334 298.6 4.002L384 79.37V56C384 42.75 394.7 31.1 408 31.1H488C501.3 31.1 512 42.75 512 56V192.3L570.6 244C577.2 249.8 577.8 259.1 571.1 266.6C566.2 273.2 556 273.8 549.4 267.1L512 234.1V432C512 476.2 476.2 512 432 512H144C99.82 512 64 476.2 64 432V234.1L26.59 267.1C19.96 273.8 9.849 273.2 4.003 266.6C-1.844 259.1-1.212 249.8 5.414 244L277.4 4.002zM480 164.1V64H416V107.6L480 164.1zM96 206.7V432C96 458.5 117.5 480 144 480H208V320C208 302.3 222.3 288 240 288H336C353.7 288 368 302.3 368 320V480H432C458.5 480 480 458.5 480 432V206.7L288 37.34L96 206.7zM240 320V480H336V320H240z"
                />
              </svg>
            </span>
            <span class="qld__left-nav__item-text">{navItem.text}</span>
          </a>
          <template lwc:if={navItem.subNav}>
            <button
              class={navItem.buttonClassName}
              aria-controls={navItem.id}
              aria-expanded={navItem.ariaExpanded}
              aria-selected={navItem.ariaSelected}
              aria-label={navItem.ariaLabel}
              data-ndx={navItem.index}
              onclick={handleItemToggle}
            ></button>
            <ul id={navItem.id} class={navItem.ulClassName}>
              <template for:each={navItem.subNav} for:item="subNavItem">
                <!-- level 3-->
                <li
                  key={subNavItem.index}
                  role="menuitem"
                  class={subNavItem.liClassName}
                  aria-current={subNavItem.ariaCurrent}
                >
                  <span
                    lwc:if={subNavItem.isActive}
                    class="qld__left-nav__item-link"
                  >
                    <span class="qld__left-nav__item-text">
                      {subNavItem.text}
                    </span>
                  </span>

                  <a
                    lwc:else
                    href={subNavItem.url}
                    data-ndx={subNavItem.index}
                    class={subNavItem.anchorClassName}
                    onclick={handleClick}
                  >
                    <span class="qld__left-nav__item-text">
                      {subNavItem.text}
                    </span>
                  </a>
                </li>
              </template>
            </ul>
          </template>
        </li>
      </template>
    </ul>
  </nav>
</template>
